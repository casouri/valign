#+TITLE: Valign.el

This package provides visual alignment for Org and Markdown tables on GUI Emacs. It can properly align tables containing variable-pitch font, CJK characters and images. Meanwhile, the text-based alignment generated by Org mode (or Markdown mode) is left untouched.


To use this package, load it and add ~valign-mode~ to ~org-mode-hook~ or ~markdown-mode-hook~:
#+begin_src emacs-lisp
(add-hook ’org-mode-hook #’valign-mode)
#+end_src

[[./default.png]]

Know problems:
- Customizing ~org-table~ face seems to mess up the separator (it will disappear).
- ~org-indent~ breaks the alignment. It uses line-prefix, and we don’t support it right now.
- Hidden links in markdown still occupy the full length of the link, because it uses character composition, which we don’t support now.
- Editing large tables (≥100 lines) is a bit laggy.

* Customization
Set ~valign-fancy-bar~ to ~non-nil~:

[[./fancy-bar.png]]

Set ~valign-separator-row-style~ to ~single-column~:

[[./single-column.png]]

* If function advice makes you itch
~valign-mode~ adds advice and doesn’t remove them even if you close ~valign-mode~ because function advice is global and ~valign-mode~ is local. If you want to remove the advice, use ~valign-remove-advice~. If you run this while some buffer still has ~valign-mode~ on, they break. So there is no point running it, really. Just accept it.
